<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Registro de Equipos</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
  body { font-family: Arial, sans-serif; margin: 20px; background: #f9f9f9; }
  label { display: block; margin-top: 10px; font-weight: bold; }
  input, select, button {
    width: 100%; padding: 8px; margin-top: 4px; box-sizing: border-box;
  }
  button {
    margin-top: 15px; background: #0078d7; color: #fff;
    border: none; cursor: pointer;
  }
  button:hover { background: #005a9e; }
</style>
</head>
<body>

<h2>Formulario de Registro</h2>

<form id="formRegistro" onsubmit="enviarDatos(); return false;">
  <label for="fecha">Fecha</label>
  <input type="date" id="fecha" name="fecha" required>

  <label for="equipo">Equipo</label>
  <input type="text" id="equipo" name="equipo" required>

  <label for="frente"># Frente</label>
  <input type="text" id="frente" name="frente" required>

  <label for="serie">Serie</label>
  <input type="text" id="serie" name="serie" required>

  <label for="medida">HRS/KM</label>
  <input type="number" id="medida" name="medida" step="any" required>

  <label for="tipoMedida">Tipo de medida</label>
  <select id="tipoMedida" name="tipoMedida" required>
    <option value="HRS">HRS</option>
    <option value="KM">KM</option>
  </select>

  <label for="trabajador">Trabajador</label>
  <input type="text" id="trabajador" name="trabajador" required>

  <label for="estado">Estado del equipo</label>
  <select id="estado" name="estado" required>
    <option value="Operativo">Operativo</option>
    <option value="En mantenimiento">En mantenimiento</option>
    <option value="Fuera de servicio">Fuera de servicio</option>
  </select>

  <button type="submit">Enviar</button>
</form>

<script>
function enviarDatos() {
  const datos = {
    fecha: document.getElementById("fecha").value,
    equipo: document.getElementById("equipo").value,
    frente: document.getElementById("frente").value,
    serie: document.getElementById("serie").value,
    medida: document.getElementById("medida").value,
    tipoMedida: document.getElementById("tipoMedida").value,
    trabajador: document.getElementById("trabajador").value,
    estado: document.getElementById("estado").value
  };

  // ValidaciÃ³n antes de enviar
  for (let clave in datos) {
    if (!datos[clave]) {
      alert(`Falta completar el campo: ${clave}`);
      return;
    }
  }

  fetch("TU_URL_WEBAPP", {
    method: "POST",
    body: JSON.stringify(datos)
  })
  .then(r => r.text())
  .then(r => {
    if (r.trim() === "OK") {
      alert("Registro enviado correctamente");
      document.getElementById("formRegistro").reset();
    } else {
      alert("Respuesta inesperada: " + r);
    }
  })
  .catch(err => alert("Error al enviar: " + err));
}
</script>

</body>
</html>

